{"ast":null,"code":"var _jsxFileName = \"/Users/faithnguyen/UCLA-Dining-YELP/src/comments-page/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport './App.css';\nimport Nav from './nav.js';\nimport { useState } from 'react';\nimport { useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ImageUpload({\n  fileInputRef\n}) {\n  _s();\n  const [image, setImage] = useState(null);\n\n  // Function to handle the image selection\n  const handleImageChange = e => {\n    const selectedFile = e.target.files[0];\n    if (selectedFile) {\n      const imageUrl = URL.createObjectURL(selectedFile);\n      setImage(imageUrl);\n    }\n  };\n  const handleButtonClick = () => {\n    fileInputRef.current.click();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"pics\",\n      onClick: handleButtonClick,\n      style: {\n        fontFamily: 'monospace'\n      },\n      children: \"Upload an image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: handleImageChange,\n      style: {\n        display: 'none'\n      } // Hide the file input\n      ,\n      ref: fileInputRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: image && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: image,\n        alt: \"Uploaded\",\n        style: {\n          width: '70%',\n          marginTop: '20px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n}\n_s(ImageUpload, \"azb7M8tR7S/vp1+UqWJMufJLR5I=\");\n_c = ImageUpload;\nfunction Comment() {\n  _s2();\n  const [inputValue, setInputValue] = useState('');\n  const fileInputRef = useRef(null);\n  const adjustHeight = event => {\n    const element = event.target;\n    element.style.height = 'auto'; // Reset height to recalculate\n    element.style.height = `${element.scrollHeight}px`; // Set new height based on content\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('title', inputValue);\n    if (fileInputRef.current && fileInputRef.current.files[0]) {\n      formData.append('image', fileInputRef.current.files[0]); // Ensure the image is included\n    }\n    try {\n      // Replace 'your-server-endpoint' with your actual endpoint URL\n      const response = await fetch('your-server-endpoint', {\n        method: 'POST',\n        body: formData\n      });\n      const result = await response.json();\n      console.log(result);\n      // Handle success\n    } catch (error) {\n      console.error('Error submitting form:', error);\n      // Handle error\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" ~ Here is the comment section! ~ \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box-border\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          id: \"postForm\",\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"Add a comment...\",\n            value: inputValue,\n            onChange: e => {\n              setInputValue(e.target.value);\n              adjustHeight(e);\n            },\n            style: {\n              overflowY: 'hidden',\n              width: '500px',\n              height: '55px',\n              resize: 'none',\n              fontFamily: 'monospace'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(ImageUpload, {\n            fileInputRef: fileInputRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"submit\",\n            style: {\n              fontFamily: 'monospace'\n            },\n            children: \"Save & Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s2(Comment, \"NBExTcmvBwjud1fLQtscubrclDs=\");\n_c2 = Comment;\nfunction CommentsPage() {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Comment, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n_c3 = CommentsPage;\nexport default CommentsPage;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"ImageUpload\");\n$RefreshReg$(_c2, \"Comment\");\n$RefreshReg$(_c3, \"CommentsPage\");","map":{"version":3,"names":["Nav","useState","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","ImageUpload","fileInputRef","_s","image","setImage","handleImageChange","e","selectedFile","target","files","imageUrl","URL","createObjectURL","handleButtonClick","current","click","className","children","onClick","style","fontFamily","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","display","ref","src","alt","width","marginTop","_c","Comment","_s2","inputValue","setInputValue","adjustHeight","event","element","height","scrollHeight","handleSubmit","preventDefault","formData","FormData","append","response","fetch","method","body","result","json","console","log","error","id","onSubmit","placeholder","value","overflowY","resize","_c2","CommentsPage","_c3","$RefreshReg$"],"sources":["/Users/faithnguyen/UCLA-Dining-YELP/src/comments-page/src/App.js"],"sourcesContent":["import './App.css';\nimport Nav from './nav.js';\nimport {useState} from 'react';\nimport {useRef} from 'react';\n\nfunction ImageUpload({fileInputRef}) {\n  const [image, setImage] = useState(null);\n\n  // Function to handle the image selection\n  const handleImageChange = (e) => {\n    const selectedFile = e.target.files[0];\n    if (selectedFile) {\n      const imageUrl = URL.createObjectURL(selectedFile);\n      setImage(imageUrl);\n    }\n  };\n  const handleButtonClick = () => {\n    fileInputRef.current.click();\n  };\n\n  return (\n    <div className=\"App\">\n      <button className=\"pics\" onClick={handleButtonClick} style={{fontFamily: 'monospace'}}>Upload an image</button>\n      <input\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={handleImageChange}\n        style={{ display: 'none' }} // Hide the file input\n        ref={fileInputRef}\n      />\n      <div>\n      {image && <img src={image} alt=\"Uploaded\" style={{ width: '70%', marginTop: '20px' }} />}\n      </div>\n    </div>\n  );\n}\n\nfunction Comment() {\n  const [inputValue, setInputValue] = useState('');\n  const fileInputRef = useRef(null);\n  const adjustHeight = (event) => {\n    const element = event.target;\n    element.style.height = 'auto'; // Reset height to recalculate\n    element.style.height = `${element.scrollHeight}px`; // Set new height based on content\n  };\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append('title', inputValue);\n    if (fileInputRef.current && fileInputRef.current.files[0]) {\n      formData.append('image', fileInputRef.current.files[0]); // Ensure the image is included\n    }\n\n    try {\n      // Replace 'your-server-endpoint' with your actual endpoint URL\n      const response = await fetch('your-server-endpoint', {\n        method: 'POST',\n        body: formData,\n      });\n      const result = await response.json();\n      console.log(result);\n      // Handle success\n    } catch (error) {\n      console.error('Error submitting form:', error);\n      // Handle error\n    }\n  }\n\n\n  \n  return (\n    <div className=\"App\">\n      {/* <div className=\"BG-header\">\n          BruinGrub  \n        </div>\n        <hr /> */}\n      <h1> ~ Here is the comment section! ~ </h1>\n      \n      <div className=\"App-header\">\n      <div className = \"box-border\">\n      <form id=\"postForm\" onSubmit={handleSubmit}>\n      <textarea\n            placeholder = \"Add a comment...\"\n            value={inputValue}\n            onChange={(e) =>{\n              setInputValue(e.target.value);\n              adjustHeight(e);\n            }}\n            style={{ \n              overflowY: 'hidden',\n              width: '500px',\n              height: '55px',\n              resize: 'none',\n              fontFamily: 'monospace'\n\n            }}\n        />\n        <ImageUpload fileInputRef={fileInputRef}/> \n        <button className=\"submit\" style={{fontFamily: 'monospace'}}>Save & Post</button>\n        </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction CommentsPage() {\n  return (\n    <>\n    <div>\n      <Comment />\n    </div>\n    </>\n  );\n}\n\nexport default CommentsPage;\n"],"mappings":";;;AAAA,OAAO,WAAW;AAClB,OAAOA,GAAG,MAAM,UAAU;AAC1B,SAAQC,QAAQ,QAAO,OAAO;AAC9B,SAAQC,MAAM,QAAO,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE7B,SAASC,WAAWA,CAAC;EAACC;AAAY,CAAC,EAAE;EAAAC,EAAA;EACnC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;;EAExC;EACA,MAAMW,iBAAiB,GAAIC,CAAC,IAAK;IAC/B,MAAMC,YAAY,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IACtC,IAAIF,YAAY,EAAE;MAChB,MAAMG,QAAQ,GAAGC,GAAG,CAACC,eAAe,CAACL,YAAY,CAAC;MAClDH,QAAQ,CAACM,QAAQ,CAAC;IACpB;EACF,CAAC;EACD,MAAMG,iBAAiB,GAAGA,CAAA,KAAM;IAC9BZ,YAAY,CAACa,OAAO,CAACC,KAAK,CAAC,CAAC;EAC9B,CAAC;EAED,oBACElB,OAAA;IAAKmB,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAClBpB,OAAA;MAAQmB,SAAS,EAAC,MAAM;MAACE,OAAO,EAAEL,iBAAkB;MAACM,KAAK,EAAE;QAACC,UAAU,EAAE;MAAW,CAAE;MAAAH,QAAA,EAAC;IAAe;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAC/G3B,OAAA;MACE4B,IAAI,EAAC,MAAM;MACXC,MAAM,EAAC,SAAS;MAChBC,QAAQ,EAAEtB,iBAAkB;MAC5Bc,KAAK,EAAE;QAAES,OAAO,EAAE;MAAO,CAAE,CAAC;MAAA;MAC5BC,GAAG,EAAE5B;IAAa;MAAAoB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnB,CAAC,eACF3B,OAAA;MAAAoB,QAAA,EACCd,KAAK,iBAAIN,OAAA;QAAKiC,GAAG,EAAE3B,KAAM;QAAC4B,GAAG,EAAC,UAAU;QAACZ,KAAK,EAAE;UAAEa,KAAK,EAAE,KAAK;UAAEC,SAAS,EAAE;QAAO;MAAE;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACtB,EAAA,CA9BQF,WAAW;AAAAkC,EAAA,GAAXlC,WAAW;AAgCpB,SAASmC,OAAOA,CAAA,EAAG;EAAAC,GAAA;EACjB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAG5C,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAMO,YAAY,GAAGN,MAAM,CAAC,IAAI,CAAC;EACjC,MAAM4C,YAAY,GAAIC,KAAK,IAAK;IAC9B,MAAMC,OAAO,GAAGD,KAAK,CAAChC,MAAM;IAC5BiC,OAAO,CAACtB,KAAK,CAACuB,MAAM,GAAG,MAAM,CAAC,CAAC;IAC/BD,OAAO,CAACtB,KAAK,CAACuB,MAAM,GAAI,GAAED,OAAO,CAACE,YAAa,IAAG,CAAC,CAAC;EACtD,CAAC;EACD,MAAMC,YAAY,GAAG,MAAOtC,CAAC,IAAK;IAChCA,CAAC,CAACuC,cAAc,CAAC,CAAC;IAElB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEX,UAAU,CAAC;IACpC,IAAIpC,YAAY,CAACa,OAAO,IAAIb,YAAY,CAACa,OAAO,CAACL,KAAK,CAAC,CAAC,CAAC,EAAE;MACzDqC,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE/C,YAAY,CAACa,OAAO,CAACL,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3D;IAEA,IAAI;MACF;MACA,MAAMwC,QAAQ,GAAG,MAAMC,KAAK,CAAC,sBAAsB,EAAE;QACnDC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEN;MACR,CAAC,CAAC;MACF,MAAMO,MAAM,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;MACpCC,OAAO,CAACC,GAAG,CAACH,MAAM,CAAC;MACnB;IACF,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdF,OAAO,CAACE,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9C;IACF;EACF,CAAC;EAID,oBACE5D,OAAA;IAAKmB,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAKlBpB,OAAA;MAAAoB,QAAA,EAAI;IAAkC;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAE3C3B,OAAA;MAAKmB,SAAS,EAAC,YAAY;MAAAC,QAAA,eAC3BpB,OAAA;QAAKmB,SAAS,EAAG,YAAY;QAAAC,QAAA,eAC7BpB,OAAA;UAAM6D,EAAE,EAAC,UAAU;UAACC,QAAQ,EAAEf,YAAa;UAAA3B,QAAA,gBAC3CpB,OAAA;YACM+D,WAAW,EAAG,kBAAkB;YAChCC,KAAK,EAAExB,UAAW;YAClBV,QAAQ,EAAGrB,CAAC,IAAI;cACdgC,aAAa,CAAChC,CAAC,CAACE,MAAM,CAACqD,KAAK,CAAC;cAC7BtB,YAAY,CAACjC,CAAC,CAAC;YACjB,CAAE;YACFa,KAAK,EAAE;cACL2C,SAAS,EAAE,QAAQ;cACnB9B,KAAK,EAAE,OAAO;cACdU,MAAM,EAAE,MAAM;cACdqB,MAAM,EAAE,MAAM;cACd3C,UAAU,EAAE;YAEd;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eACF3B,OAAA,CAACG,WAAW;YAACC,YAAY,EAAEA;UAAa;YAAAoB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eAC1C3B,OAAA;YAAQmB,SAAS,EAAC,QAAQ;YAACG,KAAK,EAAE;cAACC,UAAU,EAAE;YAAW,CAAE;YAAAH,QAAA,EAAC;UAAW;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3E;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACY,GAAA,CApEQD,OAAO;AAAA6B,GAAA,GAAP7B,OAAO;AAsEhB,SAAS8B,YAAYA,CAAA,EAAG;EACtB,oBACEpE,OAAA,CAAAE,SAAA;IAAAkB,QAAA,eACApB,OAAA;MAAAoB,QAAA,eACEpB,OAAA,CAACsC,OAAO;QAAAd,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR;EAAC,gBACJ,CAAC;AAEP;AAAC0C,GAAA,GARQD,YAAY;AAUrB,eAAeA,YAAY;AAAC,IAAA/B,EAAA,EAAA8B,GAAA,EAAAE,GAAA;AAAAC,YAAA,CAAAjC,EAAA;AAAAiC,YAAA,CAAAH,GAAA;AAAAG,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}